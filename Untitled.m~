FlushEvents('keyDown'); % or drawnow

trial_start_time = tic;

while 1
for screen_number = 1:4
    Screen('CopyWindow',win1,win0);
    display_start_time = tic;
    while 1
        if KbCheck == 1
            response_time = (toc(trial_start_time))*1000;
            key = GetChar;
            if (key == 'q')||(key == 'Q')||(key == 'm')||(key == 'M')
                break
            end
        end
        if toc(display_start_time) > settings.DIPLAY_DURATION
            break
        end
    end
    if KbCheck == 1
        break
    end
end
    
end